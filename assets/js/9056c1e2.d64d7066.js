"use strict";(self.webpackChunkcbk_2000=self.webpackChunkcbk_2000||[]).push([[2902],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=u(n),m=o,h=p["".concat(s,".").concat(m)]||p[m]||c[m]||i;return n?a.createElement(h,r(r({ref:t},d),{},{components:n})):a.createElement(h,r({ref:t},d))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:o,r[1]=l;for(var u=2;u<i;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5530:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var a=n(7462),o=(n(7294),n(3905));const i={sidebar_position:1},r="Documentation",l={unversionedId:"docusaurus-ova/documentation",id:"docusaurus-ova/documentation",title:"Documentation",description:"To help with local development of this docusaurus website, a debian OVA has been prepared. Instructions for it's usage can be found here. The following are instructions on how to utilize the debian guest.",source:"@site/docs/docusaurus-ova/documentation.md",sourceDirName:"docusaurus-ova",slug:"/docusaurus-ova/documentation",permalink:"/os-documentation/docs/docusaurus-ova/documentation",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/docusaurus-ova/documentation.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Docusaurus-ova",permalink:"/os-documentation/docs/category/docusaurus-ova"}},s={},u=[{value:"Debian Guest OVA File",id:"debian-guest-ova-file",level:2},{value:"How to use the OVA",id:"how-to-use-the-ova",level:2},{value:"Other OVA notes",id:"other-ova-notes",level:2},{value:"How to setup the debian guest with Docusaurus",id:"how-to-setup-the-debian-guest-with-docusaurus",level:2},{value:"Explaination",id:"explaination",level:3},{value:"Node JS",id:"node-js",level:4},{value:"Package Managers",id:"package-managers",level:4},{value:"Running a local preview",id:"running-a-local-preview",level:3},{value:"Optimized Deployment Build",id:"optimized-deployment-build",level:3},{value:"Deployment",id:"deployment",level:3}],d={toc:u},p="wrapper";function c(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"documentation"},"Documentation"),(0,o.kt)("p",null,"To help with local development of this docusaurus website, a debian OVA has been prepared. Instructions for it's usage can be found ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/cbk2000/docusaurus-ova"},"here"),". The following are instructions on how to utilize the debian guest."),(0,o.kt)("h2",{id:"debian-guest-ova-file"},"Debian Guest OVA File"),(0,o.kt)("p",null,"The OVA standard file for the debian guest with docusaurus can be downloaded from\n",(0,o.kt)("a",{parentName:"p",href:"https://is3.cloudhost.id/francis/sp231/ova-docusaurus-standarized-v.1.0.0.ova"},"https://is3.cloudhost.id/francis/sp231/ova-docusaurus-standarized-v.1.0.0.ova")),(0,o.kt)("admonition",{title:"OVA download",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"The OVA is quite large ",(0,o.kt)("inlineCode",{parentName:"p"},"(+-1.57GiB)"),", and my cloud provider is cheap, so maybe try to use multi-connection downloads such as using ",(0,o.kt)("inlineCode",{parentName:"p"},"aria2c")," or Free Download Manager.")),(0,o.kt)("h2",{id:"how-to-use-the-ova"},"How to use the OVA"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Login using ")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"username: cbkadal\npassword: cbkadal\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"change the directory to code/os-documentation")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd code/os-documentation\n")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Run the necessary preperation commands")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn build\nyarn serve\n")),(0,o.kt)("h2",{id:"other-ova-notes"},"Other OVA notes"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Internal port"),(0,o.kt)("th",{parentName:"tr",align:null},"External Port"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"22"),(0,o.kt)("td",{parentName:"tr",align:null},"6022")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"3000"),(0,o.kt)("td",{parentName:"tr",align:null},"5001")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"4000"),(0,o.kt)("td",{parentName:"tr",align:null},"5000")))),(0,o.kt)("h2",{id:"how-to-setup-the-debian-guest-with-docusaurus"},"How to setup the debian guest with Docusaurus"),(0,o.kt)("p",null,"A script is included in the OVA called ",(0,o.kt)("inlineCode",{parentName:"p"},"prepare-nodejs.sh"),". Running it should be sufficient to setup everything we need to setup all NodeJS and other system packages needed."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'export DEBS1="apt-file aptitude autoconf automake bc bison build-essential cowsay curl dateutils dos2unix fail2ban flex gawk gettext git git-flow gnupg gnupg-agent libacl1-dev libcap-dev libelf-dev liblocale-msgfmt-perl libncurses-dev libseccomp-dev libselinux1-dev libssl-dev locales-all manpages-dev net-tools parted python-is-python3 rsync sysstat sysvbanner texinfo unzip vim x11-apps"\n\nexport DEBS2="acct bsdmainutils clang-format expect faketime finger fuse kmod libc6-dev libfuse-dev lynx pkg-config sudo tmux util-linux"\n\necho "Updating system and installing utilities..." && \\\ntime su -c "apt update && apt upgrade -y && apt install -y $DEBS1 && apt install -y $DEBS2 && apt install -y coreutils" && \\\necho "Done updating system and installing utilities" && \\\necho "Downloading NVM script" && \\\ntime curl https://raw.githubusercontent.com/creationix/nvm/master/install.sh | bash && \\\nexport NVM_DIR="$HOME/.nvm" && \\\n[ -s "$NVM_DIR/nvm.sh" ] && \\. "$NVM_DIR/nvm.sh" && \\\necho "Done downloading and installing NVM" && \\\necho "Installing LTS Node JS" && \\\ntime nvm install --lts && \\\necho "Done installing LTS Node JS" && \\\necho "Installing NPM and Yarn" && \\\ntime su -c "apt install -y npm" && \\\ntime npm install --global yarn && \\\necho "Done. Environment ready."\n')),(0,o.kt)("h3",{id:"explaination"},"Explaination"),(0,o.kt)("h4",{id:"node-js"},"Node JS"),(0,o.kt)("p",null,'Docusaurus is built on top of React, a JavaScript framework used to build user interfaces.\nTo be able to "build" Docusaurus websites, we first need to setup NodeJS.\nNormally, this can be done thru package managers (like ',(0,o.kt)("inlineCode",{parentName:"p"},"apt"),"). However, the version of NodeJS available through ",(0,o.kt)("inlineCode",{parentName:"p"},"apt")," is no longer maintained. Therefore, we can either install it manually through ",(0,o.kt)("a",{parentName:"p",href:"https://nodejs.org/en/download"},"the official website"),", or we can use a script that helps us with that, such as ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/nvm-sh/nvm#install--update-script"},"node version manager"),"."),(0,o.kt)("p",null,"Using ",(0,o.kt)("inlineCode",{parentName:"p"},"nvm"),", all we need to do is run the two scripts given in their repository (linked above), and we'd have access to ",(0,o.kt)("inlineCode",{parentName:"p"},"nvm"),". Then, we just need to run ",(0,o.kt)("inlineCode",{parentName:"p"},"nvm install --lts"),". If no longer needed, we can run ",(0,o.kt)("inlineCode",{parentName:"p"},"nvm uninstall --lts"),"."),(0,o.kt)("p",null,"Otherwise, we can download the source directly by:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl -fsSL https://deb.nodesource.com/setup_19.x | bash - &&\\\napt-get install -y nodejs\n")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,o.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"nodejs")," installation"),(0,o.kt)("p",{parentName:"admonition"},"This guest uses ",(0,o.kt)("inlineCode",{parentName:"p"},"nvm")," to install ",(0,o.kt)("inlineCode",{parentName:"p"},"Node.js"))),(0,o.kt)("h4",{id:"package-managers"},"Package Managers"),(0,o.kt)("p",null,"To manage JavaScript packages used by Docusaurus, you can use either npm (which comes bundled with Node.js) or Yarn. In this guide, we'll use Yarn. "),(0,o.kt)("p",null,"To install Yarn, run the following script"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add - &&\\\necho "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list &&\\\nsudo apt-get update && sudo apt-get install yarn\n')),(0,o.kt)("p",null,"or, alternatively"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install -g yarn\n")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,o.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"yarn")," installation"),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("inlineCode",{parentName:"p"},"yarn")," is installed from ",(0,o.kt)("inlineCode",{parentName:"p"},"npm")," in this debian guest.")),(0,o.kt)("admonition",{type:"warning"},(0,o.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,o.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"yarn")," from ",(0,o.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"apt")),(0,o.kt)("p",{parentName:"admonition"},"The ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn")," package available from ",(0,o.kt)("inlineCode",{parentName:"p"},"apt")," is not the package we want!")),(0,o.kt)("h3",{id:"running-a-local-preview"},"Running a local preview"),(0,o.kt)("p",null,"First, we'll install the packages required by docusaurus."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"yarn install\n")),(0,o.kt)("p",null,"To have a local preview that live-updates, run"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"yarn start\n")),(0,o.kt)("h3",{id:"optimized-deployment-build"},"Optimized Deployment Build"),(0,o.kt)("p",null,"To get an optimized deployment build, run"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"yarn build\n")),(0,o.kt)("p",null,"To get a preview of this build, run"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"yarn serve\n")),(0,o.kt)("h3",{id:"deployment"},"Deployment"),(0,o.kt)("p",null,"Deployment instructions to Github Pages or other platforms can be found ",(0,o.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/deployment"},"here")))}c.isMDXComponent=!0}}]);